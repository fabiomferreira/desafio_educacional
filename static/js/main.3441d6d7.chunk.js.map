{"version":3,"sources":["config/index.js","assets/styles.js","components/DataTable.js","components/Card.js","components/ButtonLink.js","components/PageTitle.js","components/SearchInput.js","hooks/index.js","views/List.js","components/Input.js","components/Button.js","views/Form.js","App.js","serviceWorker.js","index.js"],"names":["config","process","module","exports","colors","spacing","boxShadow","base","fontSize","Table","styled","table","HeaderCell","th","TableCell","td","IconButton","button","props","color","DataTable","columns","rows","actions","map","col","key","length","row","id","Object","keys","objKey","renderRow","action","name","onClick","icon","Card","div","m","p","ButtonLink","Link","link","PageTitle","h2","Wrapper","StyledInput","input","Icon","FontAwesomeIcon","SearchInput","faSearch","placeholder","useFormInput","initialValue","callback","useState","value","setValue","onChange","e","target","Header","List","setRows","search","fetchProducts","history","useHistory","faEdit","push","PUBLIC_URL","faTimes","window","confirm","axios","delete","API_URL","then","res","catch","err","alert","query","get","data","console","error","useEffect","document","title","to","width","StyledTextArea","textarea","InputWrapper","LabelWrapper","InputLabel","label","Input","Button","BottomButtons","StyledForm","form","Form","useParams","price","onlyNumbersValue","replace","moneyValue","parseFloat","toLocaleString","style","currency","useMoneyInput","description","log","setFormValues","onSubmit","preventDefault","payload","put","goBack","post","GlobalStyle","createGlobalStyle","App","path","exact","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.3441d6d7.chunk.js","sourcesContent":["const config = {\n  \"API_URL\": process.env.NODE_ENV === 'development' ? 'http://localhost:3001' : 'https://desafio-educacional.herokuapp.com',\n  \"PUBLIC_URL\": process.env.NODE_ENV === 'development' ? '' : process.env.PUBLIC_URL,\n} \n\nmodule.exports = config;\n","const colors = {\n  primary: '#000',\n  secondary: '#b82a28',\n  white: '#fff',\n  shadow: '#888',\n  border: '#ccc',\n  label: '#333',\n  background: '#edeff3',\n  danger: '#e969cf',\n  info: '#439bbf',\n  success: '#2dcb73',\n  grey: '#8e939d',\n  tableHeaderBg: '#f9fbfc',\n  tableHeaderFont: '#8e939d',\n  tableBorder: '#eceef2',\n  dark: '#313a47',\n};\n\nconst spacing = {\n  base: '1rem',\n  small: '0.5rem',\n  big: '1.5rem',\n  huge: '2rem',\n  medium: '0.75rem',\n};\n\nconst boxShadow = {\n  base: `1px 1px 4px ${colors.shadow}`,\n};\n\nconst borderRadius = '10px';\n\nconst inputBorderRadius = '4px';\n\nconst border = {\n  base: `1px solid ${colors.border}`,\n};\n\nconst fontSize = {\n  label: '12px',\n  info: '14px',\n  title: '18px',\n};\n\nexport {\n  colors,\n  spacing,\n  boxShadow,\n  borderRadius,\n  inputBorderRadius,\n  border,\n  fontSize,\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  colors,\n  spacing,\n  fontSize,\n  borderRadius,\n} from '../assets/styles';\n\nconst Table = styled.table`\n  width: 100%;\n  margin: ${spacing.small}\n`\n\nconst HeaderCell = styled.th`\n  color: ${colors.tableHeaderFont};\n  padding: ${spacing.base} ${spacing.base};\n  text-align: left;\n  text-transform: uppercase;\n  font-size: ${fontSize.label};\n  font-weight: bold;\n  background: ${colors.tableHeaderBg};\n  &:first-child {\n    color: ${colors.dark};\n    border-radius: ${borderRadius} 0 0 ${borderRadius};\n  }\n  &:last-child {\n\n    border-radius: 0 ${borderRadius} ${borderRadius} 0;\n  }\n`;\nconst TableCell = styled.td`\n  padding: ${spacing.big} ${spacing.base};\n  border-bottom: 1px solid ${colors.tableBorder};\n  min-width: 100px;\n\n  &:first-child {\n    font-size: ${fontSize.title};\n  }\n\n  &:last-child {\n    text-align: right;\n  }\n`;\n\nconst IconButton = styled.button`\n  color: ${props => props.color};\n  border: none;\n  background: none;\n  outline: none;\n  cursor: pointer;\n`;\n\nexport default function DataTable({columns, rows, actions}) {\n  function renderHeader() {\n    return columns.map((col, key) => <HeaderCell key={key}>{col}</HeaderCell>)\n  }\n\n  function renderActionsHeader() {\n    return <HeaderCell />;\n  }\n\n  function renderRows() {\n    return rows.map(row => \n      <tr key={row.id}>\n        {renderRow(row)}\n        {!!actions.length && renderActions(row.id)}\n      </tr>\n    )\n  }\n\n  function renderRow(row) {\n    return Object.keys(row).map(objKey => {\n      if(objKey === 'id') return null;\n\n      return (\n        <TableCell key={objKey}>{row[objKey]}</TableCell>\n      )\n    })\n  }\n\n  function renderActions(id) {\n    return (\n      <TableCell>\n        {\n          actions.map(action => \n            <IconButton\n              key={action.name + id}\n              onClick={() => action.action(id)}\n              color={action.color}\n            >\n              <FontAwesomeIcon\n                icon={action.icon}\n              />\n            </IconButton>\n          )\n        }\n      </TableCell>\n    )\n  }\n\n  return (\n    <Table>\n      <thead>\n        <tr>\n          {renderHeader()}\n          {!!actions.length && renderActionsHeader()}\n        </tr>\n      </thead>\n      <tbody>\n        {renderRows()}\n      </tbody>\n    </Table>\n  )\n}\n\n","import styled from 'styled-components';\nimport {boxShadow, borderRadius} from '../assets/styles';\n\nconst Card = styled.div`\n  box-shadow: ${boxShadow.base};\n  border-radius: ${borderRadius};\n  margin: ${props => `${props.m}rem` || 0};\n  padding: ${props => `${props.p}rem` || 0};\n  background: white;\n`;\n\nexport default Card;\n","import styled from 'styled-components';\nimport {Link} from 'react-router-dom';\nimport {colors, spacing, borderRadius, fontSize} from '../assets/styles';\n\nconst ButtonLink = styled(Link)`\n  background: ${props => props.link ? 'white' : colors.success};\n  padding: ${spacing.medium} ${spacing.base};\n  border: none;\n  font-weight: bold;\n  color: ${props => props.link ? colors.grey : 'white'};\n  border-radius: ${borderRadius};\n  font-size: ${fontSize.info};\n\n  &:hover {\n    filter: contrast(0.9); \n  }\n`;\n\nexport default ButtonLink;\n","import styled from 'styled-components';\nimport {fontSize, spacing} from '../assets/styles';\n\nconst PageTitle = styled.h2`\n  font-size: ${fontSize.title};\n  margin-bottom: ${spacing.base};\n  font-weight: bold;\n`;\n\nexport default PageTitle;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {\n  spacing,\n  fontSize,\n  inputBorderRadius,\n  colors,\n} from '../assets/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\n\nconst Wrapper = styled.div`\n  position: relative;\n  margin-bottom: ${spacing.base};\n`;\n\nconst StyledInput = styled.input`\n  padding: ${spacing.small} ${spacing.base} ${spacing.small} ${spacing.huge};\n  font-size: ${fontSize.info};\n  border-radius: ${inputBorderRadius};\n  border: none;\n  border: 2px solid #edeef3;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  color: ${colors.dark};\n  position: absolute;\n  top: 10px;\n  left: 10px;\n`;\n\nexport default function SearchInput(props) {\n  return(\n    <Wrapper>\n      <Icon icon={faSearch} />\n      <StyledInput {...props} placeholder=\"Digite sua busca...\" />\n    </Wrapper>\n  );\n}\n","import {useState} from 'react';\n\nfunction useFormInput(initialValue, callback) {\n  const [value, setValue] = useState(initialValue);\n\n  function handleValueChange(e) {\n    setValue(e.target.value)\n    if(callback) {\n      callback(e.target.value);\n    }\n  }\n\n  return {\n    value,\n    setValue,\n    onChange: handleValueChange,\n  };\n}\n\nfunction useMoneyInput(initialValue) {\n  const [value, setValue] = useState(initialValue);\n\n  function handleValueChange(e) {\n    const value = e.target.value;\n    const onlyNumbersValue = value.replace(/\\D/g, \"\") || \"0\";\n    const moneyValue = (parseFloat(onlyNumbersValue) / 100).toLocaleString('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n    })\n    setValue(moneyValue)\n  }\n\n  return {\n    value,\n    setValue,\n    onChange: handleValueChange\n  };\n}\n\nexport {\n  useFormInput,\n  useMoneyInput,\n};\n","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport DataTable from '../components/DataTable';\nimport Card from '../components/Card';\nimport ButtonLink from '../components/ButtonLink';\nimport PageTitle from '../components/PageTitle';\nimport SearchInput from '../components/SearchInput';\nimport {colors} from '../assets/styles';\nimport axios from 'axios';\nimport {API_URL, PUBLIC_URL} from '../config';\nimport {useHistory} from 'react-router-dom';\nimport {useFormInput} from '../hooks';\nimport { faEdit, faTimes } from '@fortawesome/free-solid-svg-icons';\n\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport default function List(props) {\n  const [rows, setRows] = useState([]);\n  const search = useFormInput('', fetchProducts);\n  const history = useHistory();\n  const columns = [\n    'Nome',\n    \"Preço\",\n    'Descrição',\n  ];\n\n  const actions = [\n    {\n      name: 'Editar',\n      icon: faEdit,\n      color: colors.info,\n      action: (id) => {\n        history.push(`${PUBLIC_URL}/form/${id}`);\n      },\n    },\n    {\n      name: 'Remover',\n      icon: faTimes,\n      color: colors.danger,\n      action: (id) => {\n        if (window.confirm(\"Deseja remover o produto?\")) {\n          axios.delete(`${API_URL}/products/${id}`)\n            .then(res => fetchProducts())\n            .catch(err => alert(err))\n        }\n      },\n    },\n  ];\n\n  useEffect(() => {\n    document.title = 'Produtos';\n    fetchProducts();\n  },[])\n\n  function fetchProducts(query) {\n    axios.get(`${API_URL}/products?title=${query || ''}`)\n      .then(res => setRows(res.data))\n      .catch(err => console.error(err))\n  }\n\n  return (\n    <Card m={1} p={1}>\n      <Header>\n        <PageTitle>Produtos</PageTitle>\n        <ButtonLink\n          to={`${PUBLIC_URL}/form/`}\n        >\n          Novo Produto\n        </ButtonLink>\n      </Header>\n      <SearchInput\n        {...search}\n      />\n      <DataTable columns={columns} rows={rows} actions={actions}/>\n    </Card>\n  )\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport {spacing, fontSize, inputBorderRadius} from '../assets/styles';\n\nconst StyledInput = styled.input`\n  padding: ${spacing.small} ${spacing.base};\n  font-size: ${fontSize.info};\n  border-radius: ${inputBorderRadius};\n  border: none;\n  border: 2px solid #edeef3;\n  flex-basis: ${props => props.width ? props.width * 80 : 80}%;\n\n`;\nconst StyledTextArea = styled.textarea`\n  padding: ${spacing.small} ${spacing.base};\n  font-size: ${fontSize.info};\n  border-radius: ${inputBorderRadius};\n  border: none;\n  border: 2px solid #edeef3;\n`;\nconst InputWrapper = styled.div`\n  padding: ${spacing.small};\n  width: 100%;\n  display: flex;\n`;\nconst LabelWrapper = styled.div`\n  flex-basis: 20%;\n  display: inline-block;\n  margin-right: ${spacing.base};\n  text-align: right;\n  align-self: center;\n`;\nconst InputLabel = styled.label`\n  font-size: ${fontSize.info};\n`;\n\nexport default function Input({value, onChange, label, textarea, rows, width}) {\n  return(\n    <InputWrapper>\n      <LabelWrapper>\n        <InputLabel>\n          {label}\n        </InputLabel>\n      </LabelWrapper>\n      {\n        textarea ?\n        <StyledTextArea\n          value={value}\n          onChange={onChange}\n          rows={rows}\n        /> :       \n        <StyledInput\n          value={value}\n          onChange={onChange}\n          width={width}\n        />\n      }\n    </InputWrapper>\n  )\n}\n","import styled from 'styled-components';\nimport {colors, spacing, borderRadius, fontSize} from '../assets/styles';\n\nconst Button = styled.button`\n  background: ${props => props.link ? 'white' : colors.success};\n  padding: ${spacing.medium} ${spacing.base};\n  border: none;\n  font-weight: bold;\n  color: ${props => props.link ? colors.grey : 'white'};\n  border-radius: ${borderRadius};\n  font-size: ${fontSize.info};\n  cursor: pointer;\n\n  &:hover {\n    filter: contrast(0.9); \n  }\n`;\n\nexport default Button;\n\n\n","import React, {useEffect} from 'react';\nimport styled from 'styled-components';\nimport {spacing} from '../assets/styles';\nimport Card from '../components/Card';\nimport PageTitle from '../components/PageTitle';\nimport Input from '../components/Input';\nimport Button from '../components/Button';\nimport ButtonLink from '../components/ButtonLink';\nimport {useParams, useHistory} from 'react-router-dom';\nimport axios from 'axios';\nimport {API_URL, PUBLIC_URL} from '../config';\nimport {useFormInput, useMoneyInput} from '../hooks';\n\nconst BottomButtons = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: ${spacing.small};\n`;\n\nconst StyledForm = styled.form`\n  margin: 0 ${spacing.big};\n`\n\nexport default function Form(props) {\n  const {id} = useParams();\n  const title = useFormInput('');\n  const price = useMoneyInput('R$ 0,00');\n  const description = useFormInput('');\n  const history = useHistory();\n\n  console.log('id: ' + id)\n\n  useEffect(() => {\n    if(id) {\n      axios.get(`${API_URL}/products/${id}`)\n        .then(res => {\n          const {data} = res;\n          setFormValues(data);\n        })\n        .catch(err => alert('Não foi possível encontrar o produto!'));\n    }\n  },[id])\n\n  function setFormValues(data) {\n      title.setValue(data.title);\n      price.setValue(data.price);\n      description.setValue(data.description);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const payload = {\n      title: title.value,\n      price: price.value,\n      description: description.value\n    };\n\n    if(id) {\n      axios.put(`${API_URL}/products/${id}`, payload)\n        .then(res => history.goBack())\n        .catch(err => alert(err));\n\n      return;\n    }\n    axios.post(`${API_URL}/products`, payload)\n      .then(res => history.goBack())\n      .catch(err => alert(err));\n  }\n\n  return(\n    <Card\n      p={1}\n      m={1}\n    >\n      <PageTitle>\n        Novo Produto\n      </PageTitle>\n      <StyledForm onSubmit={handleSubmit}>\n        <Input\n          label=\"Título\"\n          {...title}\n          width=\"0.3\"\n        />\n        <Input\n          label=\"Preço\"\n          {...price}\n          width=\"0.1\"\n        />\n        <Input\n          label=\"Descrição\"\n          {...description}\n          width=\"0.9\"\n        />\n        <BottomButtons>\n          <ButtonLink\n            link\n            to={`${PUBLIC_URL}/`}\n          >\n            Voltar\n          </ButtonLink>\n          <Button>\n            Salvar\n          </Button>\n        </BottomButtons>\n      </StyledForm>\n    </Card>\n  )\n}\n","import React from 'react';\nimport {createGlobalStyle} from 'styled-components';\nimport {colors} from './assets/styles'\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport List from './views/List';\nimport Form from './views/Form';\nimport {PUBLIC_URL} from './config';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: ${colors.background};\n    font-family: 'Open Sans'; \n    color: ${colors.dark};\n  }\n`\n\nfunction App() {\n  return (\n    <Router>\n      <GlobalStyle />\n      <Switch>\n        <Route path={[`${PUBLIC_URL}/form/:id`, `${PUBLIC_URL}/form`]}>\n          <Form />\n        </Route>\n        <Route exact path={`${PUBLIC_URL}`}>\n          <List />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}